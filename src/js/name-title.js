import anime from "https://cdn.skypack.dev/animejs@3.2.1";

class NameTitle extends HTMLElement {

    constructor() {
        super();

        this.width = this.getAttribute('width') ? this.getAttribute('width') : '100%';
        this.height = this.getAttribute('height') ? this.getAttribute('height') : '100%';
    }

    connectedCallback() {

        this.innerHTML = `
		<style>
			#name-title path {
				fill: var(--name-title-text, #0d2c5a);
			}

			#name-shadow path {
				fill: var(--name-title-shadow, #FA5900);
			}
		</style>
		
		<svg id="name-title-group" viewBox="0 0 220 60" width="${this.width}" height="${this.height}"><title>Scott Smith</title><g id="name-shadow"><path d="M18.6,44.5c-1.2,0-2.1-0.3-2.7-0.9C15.3,43,15,42.1,15,40.9v-5.4c0-0.4,0.2-0.6,0.6-0.6h3.5c0.4,0,0.6,0.2,0.6,0.6v2.9c0,0.4,0.1,0.7,0.4,1c0.2,0.2,0.6,0.4,1,0.4h2.1c0.4,0,0.7-0.1,1-0.4c0.2-0.2,0.4-0.6,0.4-1v-5.6c0-0.3-0.1-0.5-0.2-0.6c-0.1-0.1-0.4-0.2-0.7-0.3l-5.1-1.4c-1.3-0.4-2.2-0.8-2.8-1.3C15.3,28.8,15,28,15,26.9V16.6c0-1.2,0.3-2.1,0.9-2.7s1.5-0.9,2.7-0.9h8.1c1.2,0,2.1,0.3,2.7,0.9s0.9,1.5,0.9,2.7v5.4c0,0.4-0.2,0.6-0.6,0.6h-3.5c-0.4,0-0.6-0.2-0.6-0.6v-2.9c0-0.4-0.1-0.7-0.4-1c-0.2-0.2-0.6-0.4-1-0.4h-2.1c-0.4,0-0.7,0.1-1,0.4c-0.2,0.2-0.4,0.6-0.4,1v5.6c0,0.3,0.1,0.5,0.2,0.6c0.1,0.1,0.4,0.2,0.7,0.3l5.1,1.4c1.3,0.4,2.2,0.8,2.8,1.3c0.6,0.5,0.8,1.3,0.8,2.3v10.2c0,1.2-0.3,2.1-0.9,2.7c-0.6,0.6-1.5,0.9-2.7,0.9H18.6z"/><path d="M37.5,44.5c-1.2,0-2.1-0.3-2.7-0.9c-0.6-0.6-0.9-1.5-0.9-2.7V16.6c0-1.2,0.3-2.1,0.9-2.7c0.6-0.6,1.5-0.9,2.7-0.9h8.7c1.2,0,2.1,0.3,2.7,0.9c0.6,0.6,0.9,1.5,0.9,2.7v5.4c0,0.4-0.2,0.6-0.6,0.6h-3.5c-0.4,0-0.6-0.2-0.6-0.6v-2.9c0-0.4-0.1-0.7-0.4-1c-0.2-0.2-0.6-0.4-1-0.4h-2.1c-0.4,0-0.7,0.1-1,0.4c-0.2,0.2-0.4,0.6-0.4,1v19.3c0,0.4,0.1,0.7,0.4,1c0.2,0.2,0.6,0.4,1,0.4h2.1c0.4,0,0.7-0.1,1-0.4c0.2-0.2,0.4-0.6,0.4-1v-3c0-0.4,0.2-0.6,0.6-0.6h3.5c0.4,0,0.6,0.2,0.6,0.6v5.4c0,1.2-0.3,2.1-0.9,2.7c-0.6,0.6-1.5,0.9-2.7,0.9H37.5z"/><path d="M57,44.5c-1.2,0-2.1-0.3-2.7-0.9c-0.6-0.6-0.9-1.5-0.9-2.7V16.6c0-1.2,0.3-2.1,0.9-2.7C55,13.4,55.9,13,57,13h8.7c1.2,0,2.1,0.3,2.7,0.9s0.9,1.5,0.9,2.7v24.3c0,1.2-0.3,2.1-0.9,2.7c-0.6,0.6-1.5,0.9-2.7,0.9H57z M59.8,38.5c0,0.4,0.1,0.7,0.4,1c0.2,0.2,0.6,0.4,1,0.4h2.1c0.4,0,0.7-0.1,1-0.4c0.2-0.2,0.4-0.6,0.4-1V19.2c0-0.4-0.1-0.7-0.4-1c-0.2-0.2-0.6-0.4-1-0.4h-2.1c-0.4,0-0.7,0.1-1,0.4c-0.2,0.2-0.4,0.6-0.4,1V38.5z"/><path d="M87,13c0.4,0,0.6,0.2,0.6,0.6v3.4c0,0.4-0.2,0.6-0.6,0.6h-3.4c-0.2,0-0.4,0.1-0.4,0.4v25.8c0,0.4-0.2,0.6-0.6,0.6h-5c-0.4,0-0.6-0.2-0.6-0.6V18.1c0-0.2-0.1-0.4-0.4-0.4h-3.4c-0.4,0-0.6-0.2-0.6-0.6v-3.4c0-0.4,0.2-0.6,0.6-0.6H87z"/><path d="M104.8,13c0.4,0,0.6,0.2,0.6,0.6v3.4c0,0.4-0.2,0.6-0.6,0.6h-3.4c-0.2,0-0.4,0.1-0.4,0.4v25.8c0,0.4-0.2,0.6-0.6,0.6h-5c-0.4,0-0.6-0.2-0.6-0.6V18.1c0-0.2-0.1-0.4-0.4-0.4h-3.4c-0.4,0-0.6-0.2-0.6-0.6v-3.4c0-0.4,0.2-0.6,0.6-0.6H104.8z"/><path d="M124.7,44.5c-1.2,0-2.1-0.3-2.7-0.9c-0.6-0.6-0.9-1.5-0.9-2.7v-5.4c0-0.4,0.2-0.6,0.6-0.6h3.5c0.4,0,0.6,0.2,0.6,0.6v2.9c0,0.4,0.1,0.7,0.4,1c0.2,0.2,0.6,0.4,1,0.4h2.1c0.4,0,0.7-0.1,1-0.4c0.2-0.2,0.4-0.6,0.4-1v-5.6c0-0.3-0.1-0.5-0.2-0.6c-0.1-0.1-0.4-0.2-0.7-0.3l-5.1-1.4c-1.3-0.4-2.2-0.8-2.8-1.3c-0.6-0.5-0.8-1.3-0.8-2.3V16.6c0-1.2,0.3-2.1,0.9-2.7s1.5-0.9,2.7-0.9h8.1c1.2,0,2.1,0.3,2.7,0.9c0.6,0.6,0.9,1.5,0.9,2.7v5.4c0,0.4-0.2,0.6-0.6,0.6h-3.5c-0.4,0-0.6-0.2-0.6-0.6v-2.9c0-0.4-0.1-0.7-0.4-1c-0.2-0.2-0.6-0.4-1-0.4h-2.1c-0.4,0-0.7,0.1-1,0.4c-0.2,0.2-0.4,0.6-0.4,1v5.6c0,0.3,0.1,0.5,0.2,0.6c0.1,0.1,0.4,0.2,0.7,0.3l5.1,1.4c1.3,0.4,2.2,0.8,2.8,1.3c0.6,0.5,0.8,1.3,0.8,2.3v10.2c0,1.2-0.3,2.1-0.9,2.7c-0.6,0.6-1.5,0.9-2.7,0.9H124.7z"/><path d="M140.1,13.7c0-0.4,0.2-0.6,0.6-0.6h5.1c0.4,0,0.6,0.2,0.7,0.5l2.5,12.1c0.1,0.1,0.1,0.2,0.2,0.2c0.1,0,0.2-0.1,0.2-0.2l2.5-12.1c0.1-0.4,0.3-0.5,0.7-0.5h4.8c0.4,0,0.6,0.2,0.6,0.6v30.2c0,0.4-0.2,0.6-0.6,0.6h-4.8c-0.4,0-0.6-0.2-0.6-0.6V31.6c0-0.1-0.1-0.2-0.2-0.2c-0.1,0-0.2,0.1-0.2,0.2l-1.9,6.5c-0.1,0.4-0.3,0.5-0.7,0.5h-1.4c-0.4,0-0.6-0.2-0.7-0.5l-1.8-6.7c0-0.1-0.1-0.2-0.2-0.2c-0.1,0-0.2,0.1-0.2,0.2v12.4c0,0.4-0.2,0.6-0.6,0.6h-3.4c-0.4,0-0.6-0.2-0.6-0.6V13.7z"/><path d="M167.4,13c0.4,0,0.6,0.2,0.6,0.6v30.2c0,0.4-0.2,0.6-0.6,0.6h-5c-0.4,0-0.6-0.2-0.6-0.6V13.7c0-0.4,0.2-0.6,0.6-0.6H167.4z"/><path d="M185.6,13c0.4,0,0.6,0.2,0.6,0.6v3.4c0,0.4-0.2,0.6-0.6,0.6h-3.4c-0.2,0-0.4,0.1-0.4,0.4v25.8c0,0.4-0.2,0.6-0.6,0.6h-5c-0.4,0-0.6-0.2-0.6-0.6V18.1c0-0.2-0.1-0.4-0.4-0.4h-3.4c-0.4,0-0.6-0.2-0.6-0.6v-3.4c0-0.4,0.2-0.6,0.6-0.6H185.6z"/><path d="M200.4,13.7c0-0.4,0.2-0.6,0.6-0.6h5c0.4,0,0.6,0.2,0.6,0.6v30.2c0,0.4-0.2,0.6-0.6,0.6h-5c-0.4,0-0.6-0.2-0.6-0.6v-8c0-0.2-0.1-0.4-0.4-0.4h-4c-0.2,0-0.4,0.1-0.4,0.4v8c0,0.4-0.2,0.6-0.6,0.6h-5c-0.4,0-0.6-0.2-0.6-0.6V13.7c0-0.4,0.2-0.6,0.6-0.6h5c0.4,0,0.6,0.2,0.6,0.6v16.8c0,0.2,0.1,0.4,0.4,0.4h4c0.2,0,0.4-0.1,0.4-0.4V13.7z"/></g><g id="name-title"><path d="M16.2,42.5c-1.2,0-2.1-0.3-2.7-0.9c-0.6-0.6-0.9-1.5-0.9-2.7v-5.4c0-0.4,0.2-0.6,0.6-0.6h3.5c0.4,0,0.6,0.2,0.6,0.6v2.9c0,0.4,0.1,0.7,0.4,1c0.2,0.2,0.6,0.4,1,0.4h2.1c0.4,0,0.7-0.1,1-0.4c0.2-0.2,0.4-0.6,0.4-1v-5.6c0-0.3-0.1-0.5-0.2-0.6c-0.1-0.1-0.4-0.2-0.7-0.3l-5.1-1.4c-1.3-0.4-2.2-0.8-2.8-1.3c-0.6-0.5-0.8-1.3-0.8-2.3V14.6c0-1.2,0.3-2.1,0.9-2.7c0.6-0.6,1.5-0.9,2.7-0.9h8.1c1.2,0,2.1,0.3,2.7,0.9s0.9,1.5,0.9,2.7v5.4c0,0.4-0.2,0.6-0.6,0.6h-3.5c-0.4,0-0.6-0.2-0.6-0.6v-2.9c0-0.4-0.1-0.7-0.4-1c-0.2-0.2-0.6-0.4-1-0.4h-2.1c-0.4,0-0.7,0.1-1,0.4c-0.2,0.2-0.4,0.6-0.4,1v5.6c0,0.3,0.1,0.5,0.2,0.6s0.4,0.2,0.7,0.3l5.1,1.4c1.3,0.4,2.2,0.8,2.8,1.3c0.6,0.5,0.8,1.3,0.8,2.3v10.2c0,1.2-0.3,2.1-0.9,2.7c-0.6,0.6-1.5,0.9-2.7,0.9H16.2z"/><path d="M35.1,42.5c-1.2,0-2.1-0.3-2.7-0.9c-0.6-0.6-0.9-1.5-0.9-2.7V14.6c0-1.2,0.3-2.1,0.9-2.7c0.6-0.6,1.5-0.9,2.7-0.9h8.7c1.2,0,2.1,0.3,2.7,0.9c0.6,0.6,0.9,1.5,0.9,2.7v5.4c0,0.4-0.2,0.6-0.6,0.6h-3.5c-0.4,0-0.6-0.2-0.6-0.6v-2.9c0-0.4-0.1-0.7-0.4-1c-0.2-0.2-0.6-0.4-1-0.4h-2.1c-0.4,0-0.7,0.1-1,0.4c-0.2,0.2-0.4,0.6-0.4,1v19.3c0,0.4,0.1,0.7,0.4,1c0.2,0.2,0.6,0.4,1,0.4h2.1c0.4,0,0.7-0.1,1-0.4c0.2-0.2,0.4-0.6,0.4-1v-3c0-0.4,0.2-0.6,0.6-0.6h3.5c0.4,0,0.6,0.2,0.6,0.6v5.4c0,1.2-0.3,2.1-0.9,2.7c-0.6,0.6-1.5,0.9-2.7,0.9H35.1z"/><path d="M54.6,42.5c-1.2,0-2.1-0.3-2.7-0.9c-0.6-0.6-0.9-1.5-0.9-2.7V14.6c0-1.2,0.3-2.1,0.9-2.7c0.6-0.6,1.5-0.9,2.7-0.9h8.7c1.2,0,2.1,0.3,2.7,0.9s0.9,1.5,0.9,2.7v24.3c0,1.2-0.3,2.1-0.9,2.7c-0.6,0.6-1.5,0.9-2.7,0.9H54.6z M57.4,36.5c0,0.4,0.1,0.7,0.4,1c0.2,0.2,0.6,0.4,1,0.4h2.1c0.4,0,0.7-0.1,1-0.4c0.2-0.2,0.4-0.6,0.4-1V17.2c0-0.4-0.1-0.7-0.4-1c-0.2-0.2-0.6-0.4-1-0.4h-2.1c-0.4,0-0.7,0.1-1,0.4c-0.2,0.2-0.4,0.6-0.4,1V36.5z"/><path d="M84.6,11.1c0.4,0,0.6,0.2,0.6,0.6v3.4c0,0.4-0.2,0.6-0.6,0.6h-3.4c-0.2,0-0.4,0.1-0.4,0.4v25.8c0,0.4-0.2,0.6-0.6,0.6h-5c-0.4,0-0.6-0.2-0.6-0.6V16.1c0-0.2-0.1-0.4-0.4-0.4h-3.4c-0.4,0-0.6-0.2-0.6-0.6v-3.4c0-0.4,0.2-0.6,0.6-0.6H84.6z"/><path d="M102.4,11.1c0.4,0,0.6,0.2,0.6,0.6v3.4c0,0.4-0.2,0.6-0.6,0.6H99c-0.2,0-0.4,0.1-0.4,0.4v25.8c0,0.4-0.2,0.6-0.6,0.6h-5c-0.4,0-0.6-0.2-0.6-0.6V16.1c0-0.2-0.1-0.4-0.4-0.4h-3.4c-0.4,0-0.6-0.2-0.6-0.6v-3.4c0-0.4,0.2-0.6,0.6-0.6H102.4z"/><path d="M122.4,42.5c-1.2,0-2.1-0.3-2.7-0.9c-0.6-0.6-0.9-1.5-0.9-2.7v-5.4c0-0.4,0.2-0.6,0.6-0.6h3.5c0.4,0,0.6,0.2,0.6,0.6v2.9c0,0.4,0.1,0.7,0.4,1c0.2,0.2,0.6,0.4,1,0.4h2.1c0.4,0,0.7-0.1,1-0.4c0.2-0.2,0.4-0.6,0.4-1v-5.6c0-0.3-0.1-0.5-0.2-0.6c-0.1-0.1-0.4-0.2-0.7-0.3l-5.1-1.4c-1.3-0.4-2.2-0.8-2.8-1.3c-0.6-0.5-0.8-1.3-0.8-2.3V14.6c0-1.2,0.3-2.1,0.9-2.7s1.5-0.9,2.7-0.9h8.1c1.2,0,2.1,0.3,2.7,0.9c0.6,0.6,0.9,1.5,0.9,2.7v5.4c0,0.4-0.2,0.6-0.6,0.6h-3.5c-0.4,0-0.6-0.2-0.6-0.6v-2.9c0-0.4-0.1-0.7-0.4-1c-0.2-0.2-0.6-0.4-1-0.4h-2.1c-0.4,0-0.7,0.1-1,0.4c-0.2,0.2-0.4,0.6-0.4,1v5.6c0,0.3,0.1,0.5,0.2,0.6c0.1,0.1,0.4,0.2,0.7,0.3l5.1,1.4c1.3,0.4,2.2,0.8,2.8,1.3c0.6,0.5,0.8,1.3,0.8,2.3v10.2c0,1.2-0.3,2.1-0.9,2.7c-0.6,0.6-1.5,0.9-2.7,0.9H122.4z"/><path d="M137.7,11.7c0-0.4,0.2-0.6,0.6-0.6h5.1c0.4,0,0.6,0.2,0.7,0.5l2.5,12.1c0.1,0.1,0.1,0.2,0.2,0.2c0.1,0,0.2-0.1,0.2-0.2l2.5-12.1c0.1-0.4,0.3-0.5,0.7-0.5h4.8c0.4,0,0.6,0.2,0.6,0.6v30.2c0,0.4-0.2,0.6-0.6,0.6h-4.8c-0.4,0-0.6-0.2-0.6-0.6V29.6c0-0.1-0.1-0.2-0.2-0.2c-0.1,0-0.2,0.1-0.2,0.2l-1.9,6.5c-0.1,0.4-0.3,0.5-0.7,0.5h-1.4c-0.4,0-0.6-0.2-0.7-0.5l-1.8-6.7c0-0.1-0.1-0.2-0.2-0.2c-0.1,0-0.2,0.1-0.2,0.2v12.4c0,0.4-0.2,0.6-0.6,0.6h-3.4c-0.4,0-0.6-0.2-0.6-0.6V11.7z"/><path d="M165,11.1c0.4,0,0.6,0.2,0.6,0.6v30.2c0,0.4-0.2,0.6-0.6,0.6h-5c-0.4,0-0.6-0.2-0.6-0.6V11.7c0-0.4,0.2-0.6,0.6-0.6H165z"/><path d="M183.2,11.1c0.4,0,0.6,0.2,0.6,0.6v3.4c0,0.4-0.2,0.6-0.6,0.6h-3.4c-0.2,0-0.4,0.1-0.4,0.4v25.8c0,0.4-0.2,0.6-0.6,0.6h-5c-0.4,0-0.6-0.2-0.6-0.6V16.1c0-0.2-0.1-0.4-0.4-0.4h-3.4c-0.4,0-0.6-0.2-0.6-0.6v-3.4c0-0.4,0.2-0.6,0.6-0.6H183.2z"/><path d="M198,11.7c0-0.4,0.2-0.6,0.6-0.6h5c0.4,0,0.6,0.2,0.6,0.6v30.2c0,0.4-0.2,0.6-0.6,0.6h-5c-0.4,0-0.6-0.2-0.6-0.6v-8c0-0.2-0.1-0.4-0.4-0.4h-4c-0.2,0-0.4,0.1-0.4,0.4v8c0,0.4-0.2,0.6-0.6,0.6h-5c-0.4,0-0.6-0.2-0.6-0.6V11.7c0-0.4,0.2-0.6,0.6-0.6h5c0.4,0,0.6,0.2,0.6,0.6v16.8c0,0.2,0.1,0.4,0.4,0.4h4c0.2,0,0.4-0.1,0.4-0.4V11.7z"/></g></svg>`;




        const nameShadow = document.querySelector('#name-title-group #name-shadow');
        const nameText = document.querySelector('#name-title-group #name-text');
        const nameGroup = document.querySelector('#name-title-group');


        const boxWidth = nameGroup.clientWidth;
        const boxHeight = nameGroup.clientHeight;

        const boxMidY = (boxHeight * .5);
        const boxMidX = (boxWidth * .5);

        const threshold = 2;
        const thresholdNeg = -2;


        nameGroup.addEventListener('mouseover', function (e) {

            const cursorX = e.x;
            const cursorY = e.y;

            var newX = 0;
            var newY = 0;

            var quadrant = '';

            if (e.x <= boxMidX && e.y >= boxMidY) {
                var quadrant = 'bottom left';

                var newX = thresholdNeg * 2;
                var newY = threshold * 0;
            }

            else if (e.x >= boxMidX && e.y <= boxMidY) {
                var quadrant = 'top right';

                var newX = threshold * 0;
                var newY = thresholdNeg * 2;
            }

            else if (e.x >= boxMidX && e.y >= boxMidY) {
                var quadrant = 'bottom right';

                var newX = threshold * 0;
                var newY = threshold * 0;
            }

            else if (e.x <= boxMidX && e.y <= boxMidY) {
                var quadrant = 'top left';

                var newX = thresholdNeg * 2;
                var newY = thresholdNeg * 2;
            }

            anime({
                targets: nameShadow,
                translateX: newX,
                translateY: newY,
                duration: 500
            });

        });


        nameGroup.addEventListener('mouseleave', function (e) {

            anime({
                targets: nameShadow,
                translateX: 0,
                translateY: 0,
                duration: 500
            });

        });




    }


}



customElements.define('name-title', NameTitle);